<!doctype html><html amp lang="pt"><head><meta charset="utf-8"><script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script><script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script><script async src="https://cdn.ampproject.org/v0.js"></script><link rel="canonical" href="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/index.html"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>JavaScript Orientado a Objetos #2: O Padrão Construtor Simples — Max Roecker</title><meta property="og:site_name" content="Max Roecker"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript Orientado a Objetos #2: O Padrão Construtor Simples"><meta property="og:description" content="O que é o Padrão Construtor Simples? Entenda uma das principais técnicas utilizadas para a criação de objetos em JavaScript OO."><meta property="og:url" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/index.html"><meta property="og:image" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/cover.jpg"><meta property="article:published_time" content="2016-04-23T00:05:36.000Z"><meta property="article:author" content="https://www.facebook.com/MaxNRoecker"><meta property="article:tag" content="javascript"><meta property="article:tag" content="object-oriented programming"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="JavaScript Orientado a Objetos #2: O Padrão Construtor Simples"><meta name="twitter:description" content="O que é o Padrão Construtor Simples? Entenda uma das principais técnicas utilizadas para a criação de objetos em JavaScript OO."><meta name="twitter:url" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/index.html"><meta name="twitter:image:src" content="https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/cover.jpg"><meta name="twitter:site" content="@maxrkr"><meta name="twitter:creator" content="@maxrkr"><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "Article",
  "publisher": {
    "@type": "Organization",
    "name": "Max Roecker",
    "url": "https://maxroecker.github.io",
    "sameAs": null,
    "description": "Atualmente graduando em Ciência da Computação e fascinado pela Open Web.",
    "logo": "https://maxroecker.github.io/logo.svg"
  },
  "author": {
    "@type": "Person",
    "name": "Max Naegeler Roecker",
    "url": "https://maxroecker.github.io",
    "sameAs": null,
    "description": "Meu nome é Max Naegeler Roecker. Sou Bacharel em Ciência da Computação, Técnico em Informática e mestrando em Ciência da Computação. Fascinado por computadores desde o primeira vista."
  },
  "headline": "JavaScript Orientado a Objetos #2: O Padrão Construtor Simples",
  "url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/index.html",
  "datePublished": "2016-04-23T00:05:36.000Z",
  "dateModified": "2017-05-21T01:00:07.995Z",
  "image": {
    "@type": "ImageObject",
    "url": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/cover.jpg",
    "width": "1024 px",
    "height": "768 px"
  },
  "keywords": "javascript, object-oriented programming",
  "description": "O que é o Padrão Construtor Simples? Entenda uma das principais técnicas utilizadas para a criação de objetos em JavaScript OO.",
  "license": "https://creativecommons.org/licenses/by/4.0/legalcode",
  "mainEntityOfPage": "https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/index.html"
}</script><meta name="referrer" content="origin"><meta name="generator" content="Hexo 3.2.0"><link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css"><style amp-custom>.container{margin:0 auto;box-sizing:border-box;width:calc(100% - 3rem)}.container-fluid{margin-right:auto;margin-left:auto;padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-flex;display:-ms-flexbox;display:-webkit-box;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;-webkit-box-flex:0;flex:0 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-1rem;margin-left:-1rem}.row.reverse{-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse}.col.reverse{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{box-sizing:border-box;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;-webkit-box-flex:0;flex:0 0 auto;padding-right:1rem;padding-left:1rem}.col-xs{-webkit-flex-grow:1;-ms-flex-positive:1;-webkit-box-flex:1;flex-grow:1;-ms-flex-preferred-size:0;-webkit-flex-basis:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.333%;-webkit-flex-basis:8.333%;flex-basis:8.333%;max-width:8.333%}.col-xs-2{-ms-flex-preferred-size:16.667%;-webkit-flex-basis:16.667%;flex-basis:16.667%;max-width:16.667%}.col-xs-3{-ms-flex-preferred-size:25%;-webkit-flex-basis:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.333%;-webkit-flex-basis:33.333%;flex-basis:33.333%;max-width:33.333%}.col-xs-5{-ms-flex-preferred-size:41.667%;-webkit-flex-basis:41.667%;flex-basis:41.667%;max-width:41.667%}.col-xs-6{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.333%;-webkit-flex-basis:58.333%;flex-basis:58.333%;max-width:58.333%}.col-xs-8{-ms-flex-preferred-size:66.667%;-webkit-flex-basis:66.667%;flex-basis:66.667%;max-width:66.667%}.col-xs-9{-ms-flex-preferred-size:75%;-webkit-flex-basis:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.333%;-webkit-flex-basis:83.333%;flex-basis:83.333%;max-width:83.333%}.col-xs-11{-ms-flex-preferred-size:91.667%;-webkit-flex-basis:91.667%;flex-basis:91.667%;max-width:91.667%}.col-xs-12{-ms-flex-preferred-size:100%;-webkit-flex-basis:100%;flex-basis:100%;max-width:100%}.col-xs-offset-1{margin-left:8.333%}.col-xs-offset-2{margin-left:16.667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.333%}.col-xs-offset-5{margin-left:41.667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.333%}.col-xs-offset-8{margin-left:66.667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.333%}.col-xs-offset-11{margin-left:91.667%}.start-xs{-webkit-justify-content:flex-start;-ms-flex-pack:start;-webkit-box-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-justify-content:center;-ms-flex-pack:center;-webkit-box-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-justify-content:flex-end;-ms-flex-pack:end;-webkit-box-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-align-items:flex-start;-ms-flex-align:start;-webkit-box-align:start;align-items:flex-start}.middle-xs{-webkit-align-items:center;-ms-flex-align:center;-webkit-box-align:center;align-items:center}.bottom-xs{-webkit-align-items:flex-end;-ms-flex-align:end;-webkit-box-align:end;align-items:flex-end}.around-xs{-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;justify-content:space-between}.first-xs{-webkit-order:-1;-ms-flex-order:-1;-webkit-box-ordinal-group:0;order:-1}.last-xs{-webkit-order:1;-ms-flex-order:1;-webkit-box-ordinal-group:2;order:1}@media (min-width:37.5rem){.container{width:33.5rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{box-sizing:border-box;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;-webkit-box-flex:0;flex:0 0 auto;padding-right:1rem;padding-left:1rem}.col-sm{-webkit-flex-grow:1;-ms-flex-positive:1;-webkit-box-flex:1;flex-grow:1;-ms-flex-preferred-size:0;-webkit-flex-basis:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.333%;-webkit-flex-basis:8.333%;flex-basis:8.333%;max-width:8.333%}.col-sm-2{-ms-flex-preferred-size:16.667%;-webkit-flex-basis:16.667%;flex-basis:16.667%;max-width:16.667%}.col-sm-3{-ms-flex-preferred-size:25%;-webkit-flex-basis:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.333%;-webkit-flex-basis:33.333%;flex-basis:33.333%;max-width:33.333%}.col-sm-5{-ms-flex-preferred-size:41.667%;-webkit-flex-basis:41.667%;flex-basis:41.667%;max-width:41.667%}.col-sm-6{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.333%;-webkit-flex-basis:58.333%;flex-basis:58.333%;max-width:58.333%}.col-sm-8{-ms-flex-preferred-size:66.667%;-webkit-flex-basis:66.667%;flex-basis:66.667%;max-width:66.667%}.col-sm-9{-ms-flex-preferred-size:75%;-webkit-flex-basis:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.333%;-webkit-flex-basis:83.333%;flex-basis:83.333%;max-width:83.333%}.col-sm-11{-ms-flex-preferred-size:91.667%;-webkit-flex-basis:91.667%;flex-basis:91.667%;max-width:91.667%}.col-sm-12{-ms-flex-preferred-size:100%;-webkit-flex-basis:100%;flex-basis:100%;max-width:100%}.col-sm-offset-1{margin-left:8.333%}.col-sm-offset-2{margin-left:16.667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.333%}.col-sm-offset-5{margin-left:41.667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.333%}.col-sm-offset-8{margin-left:66.667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.333%}.col-sm-offset-11{margin-left:91.667%}.start-sm{-webkit-justify-content:flex-start;-ms-flex-pack:start;-webkit-box-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-justify-content:center;-ms-flex-pack:center;-webkit-box-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-justify-content:flex-end;-ms-flex-pack:end;-webkit-box-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-align-items:flex-start;-ms-flex-align:start;-webkit-box-align:start;align-items:flex-start}.middle-sm{-webkit-align-items:center;-ms-flex-align:center;-webkit-box-align:center;align-items:center}.bottom-sm{-webkit-align-items:flex-end;-ms-flex-align:end;-webkit-box-align:end;align-items:flex-end}.around-sm{-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;justify-content:space-between}.first-sm{-webkit-order:-1;-ms-flex-order:-1;-webkit-box-ordinal-group:0;order:-1}.last-sm{-webkit-order:1;-ms-flex-order:1;-webkit-box-ordinal-group:2;order:1}}@media (min-width:64em){.container{width:60rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{box-sizing:border-box;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;-webkit-box-flex:0;flex:0 0 auto;padding-right:1rem;padding-left:1rem}.col-md{-webkit-flex-grow:1;-ms-flex-positive:1;-webkit-box-flex:1;flex-grow:1;-ms-flex-preferred-size:0;-webkit-flex-basis:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.333%;-webkit-flex-basis:8.333%;flex-basis:8.333%;max-width:8.333%}.col-md-2{-ms-flex-preferred-size:16.667%;-webkit-flex-basis:16.667%;flex-basis:16.667%;max-width:16.667%}.col-md-3{-ms-flex-preferred-size:25%;-webkit-flex-basis:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.333%;-webkit-flex-basis:33.333%;flex-basis:33.333%;max-width:33.333%}.col-md-5{-ms-flex-preferred-size:41.667%;-webkit-flex-basis:41.667%;flex-basis:41.667%;max-width:41.667%}.col-md-6{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.333%;-webkit-flex-basis:58.333%;flex-basis:58.333%;max-width:58.333%}.col-md-8{-ms-flex-preferred-size:66.667%;-webkit-flex-basis:66.667%;flex-basis:66.667%;max-width:66.667%}.col-md-9{-ms-flex-preferred-size:75%;-webkit-flex-basis:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.333%;-webkit-flex-basis:83.333%;flex-basis:83.333%;max-width:83.333%}.col-md-11{-ms-flex-preferred-size:91.667%;-webkit-flex-basis:91.667%;flex-basis:91.667%;max-width:91.667%}.col-md-12{-ms-flex-preferred-size:100%;-webkit-flex-basis:100%;flex-basis:100%;max-width:100%}.col-md-offset-1{margin-left:8.333%}.col-md-offset-2{margin-left:16.667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.333%}.col-md-offset-5{margin-left:41.667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.333%}.col-md-offset-8{margin-left:66.667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.333%}.col-md-offset-11{margin-left:91.667%}.start-md{-webkit-justify-content:flex-start;-ms-flex-pack:start;-webkit-box-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-justify-content:center;-ms-flex-pack:center;-webkit-box-pack:center;justify-content:center;text-align:center}.end-md{-webkit-justify-content:flex-end;-ms-flex-pack:end;-webkit-box-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-align-items:flex-start;-ms-flex-align:start;-webkit-box-align:start;align-items:flex-start}.middle-md{-webkit-align-items:center;-ms-flex-align:center;-webkit-box-align:center;align-items:center}.bottom-md{-webkit-align-items:flex-end;-ms-flex-align:end;-webkit-box-align:end;align-items:flex-end}.around-md{-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;justify-content:space-between}.first-md{-webkit-order:-1;-ms-flex-order:-1;-webkit-box-ordinal-group:0;order:-1}.last-md{-webkit-order:1;-ms-flex-order:1;-webkit-box-ordinal-group:2;order:1}}@media (min-width:90rem){.container{width:86rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{box-sizing:border-box;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;-webkit-box-flex:0;flex:0 0 auto;padding-right:1rem;padding-left:1rem}.col-lg{-webkit-flex-grow:1;-ms-flex-positive:1;-webkit-box-flex:1;flex-grow:1;-ms-flex-preferred-size:0;-webkit-flex-basis:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.333%;-webkit-flex-basis:8.333%;flex-basis:8.333%;max-width:8.333%}.col-lg-2{-ms-flex-preferred-size:16.667%;-webkit-flex-basis:16.667%;flex-basis:16.667%;max-width:16.667%}.col-lg-3{-ms-flex-preferred-size:25%;-webkit-flex-basis:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.333%;-webkit-flex-basis:33.333%;flex-basis:33.333%;max-width:33.333%}.col-lg-5{-ms-flex-preferred-size:41.667%;-webkit-flex-basis:41.667%;flex-basis:41.667%;max-width:41.667%}.col-lg-6{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.333%;-webkit-flex-basis:58.333%;flex-basis:58.333%;max-width:58.333%}.col-lg-8{-ms-flex-preferred-size:66.667%;-webkit-flex-basis:66.667%;flex-basis:66.667%;max-width:66.667%}.col-lg-9{-ms-flex-preferred-size:75%;-webkit-flex-basis:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.333%;-webkit-flex-basis:83.333%;flex-basis:83.333%;max-width:83.333%}.col-lg-11{-ms-flex-preferred-size:91.667%;-webkit-flex-basis:91.667%;flex-basis:91.667%;max-width:91.667%}.col-lg-12{-ms-flex-preferred-size:100%;-webkit-flex-basis:100%;flex-basis:100%;max-width:100%}.col-lg-offset-1{margin-left:8.333%}.col-lg-offset-2{margin-left:16.667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.333%}.col-lg-offset-5{margin-left:41.667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.333%}.col-lg-offset-8{margin-left:66.667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.333%}.col-lg-offset-11{margin-left:91.667%}.start-lg{-webkit-justify-content:flex-start;-ms-flex-pack:start;-webkit-box-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-justify-content:center;-ms-flex-pack:center;-webkit-box-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-justify-content:flex-end;-ms-flex-pack:end;-webkit-box-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-align-items:flex-start;-ms-flex-align:start;-webkit-box-align:start;align-items:flex-start}.middle-lg{-webkit-align-items:center;-ms-flex-align:center;-webkit-box-align:center;align-items:center}.bottom-lg{-webkit-align-items:flex-end;-ms-flex-align:end;-webkit-box-align:end;align-items:flex-end}.around-lg{-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-justify-content:space-between;-ms-flex-pack:justify;-webkit-box-pack:justify;justify-content:space-between}.first-lg{-webkit-order:-1;-ms-flex-order:-1;-webkit-box-ordinal-group:0;order:-1}.last-lg{-webkit-order:1;-ms-flex-order:1;-webkit-box-ordinal-group:2;order:1}}.hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs,.hljs .subst,.hljs .tag,.hljs-subst,.hljs-tag{color:#f8f8f2}.hljs .emphasis,.hljs .strong,.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs .bullet,.hljs .link,.hljs .literal,.hljs .number,.hljs .quote,.hljs .regexp,.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ae81ff}.hljs .code,.hljs .section,.hljs .selector-class,.hljs .title,.hljs-code,.hljs-section,.hljs-selector-class,.hljs-title{color:#a6e22e}.hljs .strong,.hljs-strong{font-weight:700}.hljs .emphasis,.hljs-emphasis{font-style:italic}.hljs .attr,.hljs .keyword,.hljs .name,.hljs .selector-tag,.hljs-attr,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#f92672}.hljs .attribute,.hljs .symbol,.hljs-attribute,.hljs-symbol{color:#66d9ef}.hljs .class .title,.hljs .params,.hljs-class .hljs-title,.hljs-params{color:#f8f8f2}.hljs .addition,.hljs .built_in,.hljs .builtin-name,.hljs .selector-attr,.hljs .selector-id,.hljs .selector-pseudo,.hljs .string,.hljs .template-variable,.hljs .type,.hljs .variable,.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-string,.hljs-template-variable,.hljs-type,.hljs-variable{color:#e6db74}.hljs .comment,.hljs .deletion,.hljs .meta,.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}:root{--cardinal:#BD1939;--magenta:#FF2650;--orange:#FF6433;--amber:#FFB934;--yellow:#FFEE5A;--primary-text:rgba(0, 0, 0, 0.87);--secondary-text:rgba(0, 0, 0, 0.54);--disabled-text:rgba(0, 0, 0, 0.38);--divider:rgba(0, 0, 0, 0.2);--primary-text-inverse:rgba(255, 255, 255, 1);--secondary-text-inverse:rgba(255, 255, 255, 0.7);--disabled-text-inverse:rgba(255, 255, 255, 0.5);--theme-colors:linear-gradient( to right, var(--cardinal) 0%, var(--cardinal) 20%, var(--magenta) 20%, var(--magenta) 40%, var(--orange) 40%, var(--orange) 60%, var(--amber) 60%, var(--amber) 80%, var(--yellow) 80%, var(--yellow) 100%);--theme-pattern-2:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 239.99999 239.99999"><path fill="#ffb934" d="M0 0h60L0 60z"/><path fill="#ff6433" d="M60 60H0L60 0z"/><path fill="#bd1939" d="M120 0H60l60 60z"/><path fill="#ff2650" d="M60 60h60L60 0zM0 120h60L0 60z"/><path fill="#ffee5a" d="M60 60H0l60 60z"/><path fill="#ff2650" d="M120 120H60l60-60z"/><path fill="#ffb934" d="M60 60h60l-60 60zm60-60h60l-60 60z"/><path fill="#ff6433" d="M180 60h-60l60-60z"/><path fill="#ff2650" d="M240 0h-60l60 60z"/><path fill="#bd1939" d="M180 60h60L180 0z"/><path fill="#ffb934" d="M120 120h60l-60-60z"/><path fill="#ffee5a" d="M180 60h-60l60 60z"/><path fill="#ff6433" d="M240 120h-60l60-60z"/><path fill="#ff2650" d="M180 60h60l-60 60z"/><path fill="#ffb934" d="M0 120h60L0 180z"/><path fill="#ff2650" d="M60 180H0l60-60z"/><path fill="#ffee5a" d="M120 120H60l60 60z"/><path fill="#ffb934" d="M60 180h60l-60-60z"/><path fill="#bd1939" d="M0 240h60L0 180z"/><path fill="#ff6433" d="M60 180H0l60 60zm60 60H60l60-60z"/><path fill="#ffee5a" d="M60 180h60l-60 60z"/><path fill="#bd1939" d="M120 120h60l-60 60z"/><path fill="#ff6433" d="M180 180h-60l60-60z"/><path fill="#ffee5a" d="M240 120h-60l60 60z"/><path fill="#ff2650" d="M180 180h60l-60-60zm-60 60h60l-60-60z"/><path fill="#ffee5a" d="M180 180h-60l60 60z"/><path fill="#ff6433" d="M240 240h-60l60-60z"/><path fill="#ffb934" d="M180 180h60l-60 60z"/><path fill="#ff2650" fill-opacity=".502" d="M0 0h240v240H0z"/></svg>');color:var(--primary-text)}.display--block{display:block}.height--100{height:100%}.padding--2rem{padding:2rem 0}.margin-zero{margin:0}.text-color--magenta{color:var(--magenta)}.text-color--primary-text{color:var(--primary-text)}.text-color--secondary-text{color:var(--secondary-text)}.text-decoration--none{text-decoration:none}.text-align--right{text-align:right}.text-align--center{text-align:center}.list--unstyled{margin:0;padding:0;list-style:none}#footer{background-color:var(--primary-text);border-left:0;border-bottom:0;border-right:0;border-top-width:.5rem;border-top-color:var(--magenta);border-image-source:var(--theme-colors);border-image-slice:1 1;border-image-width:.5rem 0 0 0;border-image-repeat:stretch}#header{box-sizing:border-box;display:flex;align-items:stretch;justify-content:space-around;flex-flow:column;width:100%;padding:1rem 0;border-left:0;border-bottom:0;border-right:0;border-top-width:.5rem;border-top-color:var(--magenta);border-image-source:var(--theme-colors);border-image-slice:1 1;border-image-width:.5rem 0 0 0;border-image-repeat:stretch}.sitename{margin:0;text-align:center;text-transform:uppercase;font-size:2rem;font-family:Raleway,monospace;font-weight:400;letter-spacing:.125em;color:var(--disabled-text)}@media (min-width:64rem){.sitename{text-align:left}}.sitename img{max-height:5rem;transition:all .3s}@media (min-width:64rem){.sitename img{max-height:5rem}}.sitename img:hover{-webkit-filter:drop-shadow(.125rem .125rem .2rem var(--disabled-text));filter:drop-shadow(.125rem .125rem .2rem var(--disabled-text))}.sitename a{color:inherit}.navigation{box-sizing:border-box;list-style:none;padding:0}.navigation__item{box-sizing:border-box;display:block;padding:.25rem .5rem;border:0;border-bottom:transparent solid .2rem;text-align:center;text-transform:uppercase;text-decoration:none;font-family:Raleway,sans-serif;font-size:1rem;color:var(--secondary-text);letter-spacing:.2em}.navigation__item:hover{color:var(--primary-text)}.navigation__item--selected{box-sizing:border-box;display:block;padding:.25rem .5rem;border:0;border-bottom:var(--magenta) solid .2rem;text-align:center;text-transform:uppercase;text-decoration:none;font-family:Raleway,sans-serif;font-size:1rem;color:var(--secondary-text);letter-spacing:.2em}.navigation__item__link{text-decoration:none;color:inherit}.postlist{list-style:none;padding:0}.postlist__item{display:block;padding:1.5rem 0;border-bottom:rgba(0,0,0,.1) solid .063rem}.postpreview{margin-bottom:1rem}.postpreview__header{color:var(--secondary-text);margin-bottom:1rem;line-height:1.25em}.postpreview__title{color:var(--secondary-text);text-decoration:none;font-size:1.5rem;font-weight:400}.postpreview__title:hover{color:var(--primary-text)}.postpreview__date{font-size:.75rem;color:var(--magenta);word-spacing:.1em}.postpreview__excerpt{margin:0;margin:.5rem 0;text-decoration:none;color:var(--secondary-text);font-size:1rem;line-height:1.25em}.postpreview__footer{margin:0;text-decoration:none;color:var(--disabled-text);font-size:.875rem}.postpreview--featured{background-color:var(--orange);background-image:var(--theme-pattern-2);background-size:6rem;border-left:0;border-top:0;border-right:0;border-bottom-width:.5rem;border-bottom-color:var(--magenta);border-image-source:var(--theme-colors);border-image-slice:1 1;border-image-width:0 0 .5rem 0;border-image-repeat:stretch}.postpreview--javascript-orientado-a-objetos-1{background-image:url(https://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/cover.jpg);background-size:cover;background-position:center}.postpreview__cover--featured{width:100%;height:100%;padding:2rem 0;background-color:var(--disabled-text)}@media (min-width:64em){.postpreview__cover--featured{padding:5rem 0}}.postpreview__container--featured{display:flex;height:100%;flex-flow:column;justify-content:center}.postpreview__header--featured{margin:3rem 0 1rem 0;color:var(--primary-text-inverse);text-align:center}.postpreview__title--featured{color:inherit;text-decoration:none;font-size:3rem;font-family:Raleway,sans-serif;font-weight:600}@media (min-width:64em){.postpreview__title--featured{font-size:3rem}}.postpreview__title--featured:hover{color:.125em 0 .125em var(--primary-text)}.postpreview__excerpt--featured{margin:.5rem 0;text-decoration:none;text-align:center;color:var(--secondary-text-inverse);font-size:1.5rem;font-family:Raleway,sans-serif}@media (min-width:64em){.postpreview__excerpt--featured{font-size:1.5rem}}.postpreview__footer--featured{margin:0;text-decoration:none;text-align:center;color:var(--disabled-text);font-size:.875rem}.taglist--inline{display:inline-block;margin:0;padding:0;list-style:none}.taglist__item--inline{display:inline-block}.taglist__item--inline::after{content:','}.taglist__item--inline:last-child::after{content:''}.tag{text-decoration:none;color:var(--amber)}.tag::before{content:'#'}.tag:active,.tag:hover{color:var(--yellow)}.tag:visited{color:var(--orange)}.tag:visited:hover{color:var(--cardinal)}.spacer{margin:3rem 0;border:0}.continue{display:inline-block;border:0;color:var(--magenta);font-size:2rem;transform:rotate(90deg);content:''}.pagination{text-align:center;margin:3rem 0}@media (min-width:64rem){.pagination{text-align:right}}.pagination a{color:var(--secondary-text);text-decoration:none}.pagination a:hover{color:var(--magenta)}.pagination__current{color:var(--disabled-text)}.bio__photo{width:100%;border-radius:50%}.bio__header{margin:1rem 0;text-align:center;color:var(--secondary-text-inverse);font-family:Raleway,sans-serif}@media (min-width:64em){.bio__header{margin:0;text-align:left}}.bio__intro,.bio__intro p{text-align:center;font-size:1rem;color:var(--secondary-text-inverse);line-height:1.5em}@media (min-width:64em){.bio__intro,.bio__intro p{text-align:left}}.bio__intro a{color:var(--amber);text-decoration:none}.bio__intro a:hover{color:var(--yellow)}.disclaimer{padding:.5rem 0;background-color:var(--secondary-text);font-size:.75rem;color:var(--disabled-text-inverse);text-align:center}.disclaimer p{margin:0;padding:.5rem}.disclaimer a{text-decoration:none;color:var(--secondary-text-inverse)}.disclaimer a:hover{text-decoration:none;color:var(--primary-text-inverse)}.header{margin:1rem 0;background-color:var(--magenta);background-size:6rem}.header__title{margin:0;padding:.66rem 0;text-transform:uppercase;font-family:Raleway,sans-serif;font-size:1.5rem;font-weight:400;color:var(--primary-text-inverse)}.social{padding:0 0 3rem 0;font-size:1rem;color:var(--disabled-text)}.social p{margin:0 0 0 16px}.social-a{text-decoration:none;color:var(--secondary-text)}.social-a:hover{text-decoration:none;color:var(--primary-text)}.social-link{display:inline-flex;margin:0 .2rem;padding:.34rem 1rem .33rem 1rem;border-radius:.2rem;background-color:var(--divider);text-decoration:none;font-size:.875rem;font-weight:600;color:var(--secondary-text)}.social-link:hover{opacity:.9}.social-link--twitter{background-color:#4fafed;color:var(--primary-text-inverse)}.social-link--facebook{background-color:#4361b3;color:var(--primary-text-inverse)}.post{margin-bottom:6rem}.post__header{background-image:var(--theme-pattern-2);background-size:6rem}.post__header--javascript-orientado-a-objetos-2{background-image:url(https://maxroecker.github.io/blog/javascript-orientado-a-objetos-2/cover.jpg);background-size:cover;background-position:center}.post__cover{background-color:var(--disabled-text);height:100%;width:100%}.post__title{margin:0;padding:6rem 0 1rem 0;word-spacing:.1em;font-family:Raleway,sans-serif;font-size:2.75rem;font-weight:700;color:var(--primary-text-inverse)}@media (min-width:64em){.post__title{padding:10rem 0 1rem 0;font-size:3rem}}.post__lead{margin:0;padding:0 0 2rem 0;font-size:1.5rem;color:var(--primary-text-inverse);font-family:Raleway,sans-serif}@media (min-width:64em){.post__lead{font-size:1.5rem}}.post__info{margin:0;padding:1rem 0;text-transform:uppercase;font-size:.75rem;color:var(--secondary-text)}.post__content{font-size:1.125rem}.post__content p{line-height:1.5em;color:var(--primary-text)}.post__content h1,.post__content h2,.post__content h3,.post__content h4,.post__content h5,.post__content h6{display:flex;align-items:flex-start;font-family:Raleway,sans-serif;margin:1.5em 0 1em 0;color:var(--cardinal)}.post__content h1 *,.post__content h2 *,.post__content h3 *,.post__content h4 *,.post__content h5 *,.post__content h6 *{display:inline-block;margin:0 .5rem}.post__content .header-anchor{-webkit-order:1;-ms-flex-order:1;-webkit-box-ordinal-group:2;order:1}.post__content h1{font-size:2.5rem}.post__content h2{font-size:2rem;color:var(--magenta)}.post__content h3{font-size:1.5rem;color:var(--orange)}.post__content h4{font-size:1.25rem;color:var(--amber)}.post__content h5{font-size:1.125rem;color:var(--primary-text)}.post__content h6{font-size:1.125rem;color:var(--secondary-text)}.post__content img{margin:2rem 0;width:100%}.post__content ol,.post__content ul{margin:3rem 0}.post__content ol ol,.post__content ol ul,.post__content ul ol,.post__content ul ul{margin:0}.post__content ol>li,.post__content ul>li{margin:1rem 0}.post__content a{color:var(--magenta);text-decoration:none}.post__content a:hover{text-decoration:underline}.post__content a:visited{color:var(--cardinal)}.post__content figure{display:block;margin:2rem 0}.post__content figure .hljs{margin:2rem 0 1rem 0}.post__content figure p{margin:0}.post__content figure img{margin:1rem 0}.post__content figcaption,.post__content figcaption p{display:block;margin-bottom:5rem;padding:0 3rem;text-align:center;line-height:1.5em;font-size:1rem;font-weight:600;color:var(--secondary-text)}.post__content blockquote{margin:1rem 1rem;padding:1rem 0 1.5rem 2rem;border-left:var(--yellow) solid .5rem}@media (min-width:64rem){.post__content blockquote{margin:3rem 4rem;padding:1rem 0 1.5rem 2rem}}.post__content blockquote p{margin:0;padding:0;font-style:italic;font-size:1.25rem;color:var(--secondary-text)}.post__content blockquote p a{color:var(--orange)}.post__content blockquote footer{margin:1rem 0 0 0;font-size:1rem;color:var(--disabled-text)}.post__content blockquote footer cite::before{content:' — '}.post__content blockquote footer cite a{color:var(--amber)}.post__content .hljs{margin:1.5rem 0;padding:1.5rem;border-radius:.125rem;font-size:.875rem}@media (min-width:64rem){.post__content .hljs{margin:2rem 0;padding:2rem}}.post__content .hljs code{display:block;padding:0;border-radius:0;background-color:transparent;font-size:1rem;color:var(--primary-text-inverse);line-height:1.25em}.post__content code{color:var(--secondary-text)}.post__content kbd{display:inline-block;padding:0 .5rem;border-radius:.2rem;background-color:var(--divider);font-size:1rem;color:var(--secondary-text)}.post__content .header-anchor{box-sizing:border-box;padding:0 1rem;text-align:center;font-weight:400;color:var(--divider)}.post__content .header-anchor:hover{text-decoration:none;color:var(--yellow)}.post__content hr{margin:3rem 0;border:0;border-bottom:#ccc solid 1px}.post__content table{border:#ccc solid .1rem;font-size:.875rem}.post__content td,.post__content th{padding:.75rem;border-top:#ccc solid .1rem;border-left:#ccc solid .1rem;color:var(--primary-text)}.post__content thead th{border-bottom:#ccc solid .125rem;color:var(--secondary-text)}.post__content .footnote-ref a{color:var(--disabled-text)}.post__content .footnote-ref a:hover{color:var(--amber);text-decoration:none}.post__content abbr{cursor:help}.post__content .footnotes{font-size:.875rem;color:var(--secondary-text)}.post__content .footnotes p{color:var(--secondary-text);margin:0}.post__content .footnote-backref{color:var(--disabled-text)}.post__content .footnote-backref:hover{color:var(--yellow);text-decoration:none}</style><link rel="icon" type="image/x-icon" href="https://maxroecker.github.io/favicon.ico"><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript></head><body><header id="header"><div class="container"><div class="row left-xs middle-xs"><div class="col-xs-12 col-md-3"><h1 class="sitename"><a href="/" class="text-decoration--none display--block"><amp-img src="/logo.svg" alt="Site Logo" width="100" height="100"><noscript><img src="/logo.svg" alt="Site Logo"></noscript></amp-img></a></h1></div><div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3"><nav id="navigation-main"><ul class="navigation row between-xs middle-xs center-xs between-md end-md"><li class="navigation__item--selected"><a href="#" class="navigation__item__link">Blog</a></li><li class="navigation__item"><a href="/about/" class="navigation__item__link">Sobre</a></li><li class="navigation__item"><a href="/now/" class="navigation__item__link">Now</a></li></ul></nav></div></div></div></header><main><article><header><div class="post__header post__header--javascript-orientado-a-objetos-2"><div class="post__cover"><div class="container"><h1 class="post__title">JavaScript Orientado a Objetos #2: O Padrão Construtor Simples</h1><p class="post__lead">O que é o Padrão Construtor Simples? Entenda uma das principais técnicas utilizadas para a criação de objetos em JavaScript OO.</p></div></div></div><div class="container"><div class="post__info">Publicado em <time datetime="2016-04-23T00:05:36.000Z">22/04/2016 </time>— <span>Marcado em</span><ul class="taglist--inline"><li class="taglist__item--inline"><a href="https://maxroecker.github.io/tags/javascript/" class="tag">javascript</a></li><li class="taglist__item--inline"><a href="https://maxroecker.github.io/tags/object-oriented-programming/" class="tag">object-oriented programming</a></li></ul></div></div></header><section class="container"><div class="row"><div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 post__content"><blockquote><p><strong>cons.tru.tor</strong>: [adjetivo substantivo] 1) que ou aquele que constrói; construidor. 2) o que domina o saber de construir.</p></blockquote><p>Hoje iremos compreender um pouco Padrão Construtor Simples no contexto do JavaScript Orientado a Objetos, um padrão de projeto que possui comportamento baseado nos métodos construtores da linguagem Java. Para que você aproveite melhor o texto é recomendado que você tenha conhecimento dos conceitos básicos de orientação a objetos. Você pode ler uma pequena introdução <a href="http://maxroecker.github.io/blog/javascript-orientado-a-objetos-1/">no texto anterior dessa série</a>. Também é recomendado que você conheça o comportamento e características dos <a href="http://maxroecker.github.io/blog/javascript-basico-5/">objetos</a>, <a href="http://maxroecker.github.io/blog/javascript-basico-6/">funções</a> e também de <em><a href="http://maxroecker.github.io/blog/javascript-intermediario-4/">closures</a></em> em JavaScript.</p><p>O texto hoje é um pouco longo, pois achei importante unir os principais tópicos de cada padrão em um só local e evitar fragmentação de conteúdo.</p><hr><h2 id="introdução"><a class="header-anchor" href="#introdução">#</a>Introdução</h2><p>Na orientação a objetos, um <strong>Construtor</strong> é um componente especial utilizado para inicializar um objeto recém-criado, uma vez que a memória utilizada por ele já foi alocada. O conceito de construtores também é utilizado no JavaScript quando estamos trabalhando com programação orientada a objetos. No entanto, diferente de linguagens como o Java e o C++ — onde o construtor é um método da própria classe —, em JavaScript o construtor é uma função que constrói o objeto. Como em JavaScript <a href="http://maxroecker.github.io/blog/javascript-basico-5/">quase tudo é um objeto</a>, <a href="http://maxroecker.github.io/blog/javascript-basico-6/">incluindo funções</a>, podemos utilizá-las de forma análoga à “instanciadores de objetos”.</p><p>Funções possuem uma dupla de entradas e um elemento de saída. Podemos utilizar funções para criar objetos da seguinte forma: (i) Recebendo um objeto e os valores de inicialização como entrada; (ii) Adicionando as propriedades no corpo da função; e (iii) retornando o objeto modificado como resultado da função.</p><p>Vamos exemplificar esse comportamento com um exemplo. Queremos construir um objeto que represente uma pessoa. Precisamos salvar seu nome completo e data de nascimento. Vamos fazer também alguns métodos para retornar a idade (calculada a partir do momento atual) e também outro método que retorne somente o primeiro nome da pessoa. Utilizando os conceitos vistos anteriormente, nosso construtor de objetos de pessoas, em um primeiro momento, teria a estrutura similar ao abaixo:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">PersonConstructor</span> (<span class="params">object, fullname, birthDate</span>) </span>{
  object.fullname = fullname || <span class="string">''</span>
  object.birthDate = birthDate || <span class="literal">null</span>
  object.getAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>()
    <span class="keyword">const</span> age = today.getFullYear() - <span class="keyword">this</span>.birthDate.getFullYear()
    <span class="keyword">const</span> month = today.getMonth() - <span class="keyword">this</span>.birthDate.getMonth()
    <span class="keyword">const</span> isBeforeBirthDay = (month &lt; <span class="number">0</span>) ||
      (month === <span class="number">0</span> &amp;&amp; today.getDate() &lt; <span class="keyword">this</span>.birthDate.getDate())
    <span class="keyword">if</span> (isBeforeBirthDay) {
      <span class="keyword">return</span> age - <span class="number">1</span>
    }
    <span class="keyword">return</span> age
  }
  object.getFirstName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>.fullname.split(<span class="string">' '</span>)[ <span class="number">0</span> ]
  }
  <span class="keyword">return</span> object
}
</code></pre><p>Agora, podemos utilizar nosso primeiro construtor para criar objetos de pessoas aplicando a função em alguns valores:</p><pre class="hljs"><code><span class="keyword">const</span> pedremildo = PersonConstructor({}, <span class="string">'Pedremildo Escavadeira'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1990</span>, <span class="number">1</span>, <span class="number">5</span>))
<span class="keyword">const</span> testerson = PersonConstructor({}, <span class="string">'Testerson Trunk'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1987</span>, <span class="number">8</span>, <span class="number">23</span>))

<span class="built_in">console</span>.log(pedremildo.getFirstName()) <span class="comment">// → Pedremildo</span>
<span class="built_in">console</span>.log(testerson.getAge())        <span class="comment">// → 28</span>
</code></pre><hr><h2 id="construtores-simples"><a class="header-anchor" href="#construtores-simples">#</a>Construtores Simples</h2><p>Como construtores são uma das técnicas mais utilizada para a criação de objetos no JavaScript, a própria linguagem fornece um “açúcar sintático” (<em><a href="https://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="external">syntatic sugar</a></em>) com a utilização do operador <code>new</code>. Quando adicionado à frente de uma chamada de função, o operador <code>new</code> muda o escopo de execução da função, atribuindo um novo objeto vazio a ele. Dessa forma, podemos utilizar a palavra <code>this</code> dentro do contexto da função e estaremos referenciando ao novo objeto que a expressão <code>new</code> inclui ao escopo.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/constructor.svg" alt="Imagem ilustrativa representando um construtor como um trabalhador da construção civil criando um objeto." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/constructor.svg" alt="Imagem ilustrativa representando um construtor como um trabalhador da construção civil criando um objeto." width="255" height="110"></noscript></amp-img><figcaption><p>Um construtor, em JavaScript, é uma função que recebe um objeto e atribui a ele características e um comportamento próprio.</p></figcaption></figure><p>O operador <code>new</code> também altera o comportamento de retorno implícito da função. Em uma função, quando não há um <code>return</code> explícito no código da função, o retorno é <code>undefined</code>. Porém, se a invocação da função é precedida pelo operador <code>new</code>, então a função retorna implicitamente o próprio contexto da função, que nesse caso é novo objeto criado anteriormente pelo próprio <code>new</code>.</p><p>Utilizando o mesmo exemplo anterior, vamos utilizar o operador <code>new</code> em nossos construtores que também foram modificados para utilizar das características ele aplica na função. Veja a seguir:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">fullname, birthDate</span>) </span>{
  <span class="keyword">this</span>.fullname = fullname || <span class="string">''</span>
  <span class="keyword">this</span>.birthDate = birthDate || <span class="literal">null</span>
  <span class="keyword">this</span>.getAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>()
    <span class="keyword">const</span> age = today.getFullYear() - <span class="keyword">this</span>.birthDate.getFullYear()
    <span class="keyword">const</span> month = today.getMonth() - <span class="keyword">this</span>.birthDate.getMonth()
    <span class="keyword">const</span> isBeforeBirthDay = (month &lt; <span class="number">0</span>) ||
      (month === <span class="number">0</span> &amp;&amp; today.getDate() &lt; <span class="keyword">this</span>.birthDate.getDate())
    <span class="keyword">if</span> (isBeforeBirthDay) {
      <span class="keyword">return</span> age - <span class="number">1</span>
    }
    <span class="keyword">return</span> age
  }
  <span class="keyword">this</span>.getFirstName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>.fullname.split(<span class="string">' '</span>)[<span class="number">0</span>]
  }
  <span class="keyword">this</span>.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="string">'{'</span> + <span class="keyword">this</span>.fullname + <span class="string">'}'</span>
  }
}
</code></pre><p>Agora, quando queremos criar nosso objetos, é obrigatória a utilização do operador <code>new</code> toda vez que chamamos a função. No entanto, não precisamos mais passar um objeto para o construtor, porque o <code>new</code> implicitamente faz isso para nós. Veja:</p><pre class="hljs"><code><span class="keyword">const</span> pedremildo = <span class="keyword">new</span> Person(<span class="string">'Pedremildo Escavadeira'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1990</span>, <span class="number">1</span>, <span class="number">5</span>))
<span class="keyword">const</span> testerson = <span class="keyword">new</span> Person(<span class="string">'Testerson Trunk'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1987</span>, <span class="number">8</span>, <span class="number">23</span>))

<span class="built_in">console</span>.log(testerson.getFirstName())   <span class="comment">// → Pedremildo</span>
<span class="built_in">console</span>.log(pedremildo.getAge())        <span class="comment">// → 28</span>
</code></pre><p>Quando utilizamos construtores simples, os métodos definidos dentro dos objetos são duplicados para cada instância criada. Ou seja, cada objeto criado pelo construtor <code>Person</code> possui uma cópia idêntica da função <code>getAge</code>, por exemplo. Podemos verificar esse comportamento comparando a igualdade entre as referências dos métodos de diferentes objetos:</p><pre class="hljs"><code><span class="built_in">console</span>.log(testerson.getDate === pedremildo.getAge); <span class="comment">// → false</span>
</code></pre><p>Essa cópia de funções idênticas em vários objetos pode acarretar em um problema de desempenho quando estamos trabalhando com muitos objetos criados ao mesmo tempo.</p><hr><h2 id="herança"><a class="header-anchor" href="#herança">#</a>Herança</h2><p>Com construtores simples, podemos alcançar a herança em nossos objetos ao utilizar uma chamada ao construtor — normalmente chamado de “pai” —, do qual se quer herdar as características com o auxílio do método <code>apply</code>. O <code>apply</code> é um método pertencente a todo objeto função, que aplica a função de acordo com o contexto dado e os argumentos passados. Recebe dois parâmetros: o primeiro, um objeto, indica contexto em que a função deve ser aplicada (ou seja, para onde a referência <code>this</code> dentro do método pai deve ser apontada), e o segundo é um <em>array</em> que indica os argumentos que devem ser passados a função para ser executada.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/inheritance.svg" alt="Representação ilustrativa da herança como uma árvore genealógica entre os objetos." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/inheritance.svg" alt="Representação ilustrativa da herança como uma árvore genealógica entre os objetos." width="255" height="110"></noscript></amp-img><figcaption><p>Quando utilizamos herança, as propriedades dos objetos pais são passadas aos seus filhos.</p></figcaption></figure><p>De forma mais técnica, a herança feita pela utilização do <code>apply</code> copia todas as propriedades definidas pelo construtor pai e aplica no objeto gerado pelo construtor filho. Quando um filho quer reescrever uma propriedade herdada (seja ela um atributo ou um método), ele simplesmente substitui tal propriedade por um valor próprio.</p><p>Para exemplificar a herança, vamos supor que estamos desenvolvendo um jogo de simulação de cidades (ao melhor estilo <em>SimCity</em>, por exemplo). As construções de sua cidade possuem várias propriedades distintas, mas também possuem várias propriedades similares. É esse comportamento similar que se torna um bom candidato a ser elevando para um construtor mais abstrato que depois possa ser herdado pelas outras construções.</p><p>Em nossa modelagem, vamos seguir o diagrama ilustrado a seguir. Temos como pai um construtor genérico de construção, então temos residências. Também temos um construtor que representa um local de trabalho, e com isso suas especializações em instalações comerciais e industriais.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/building-model-1.svg" alt="Diagrama mostrando as relações dos construtores de construções. Ao topo temos o Building; a partir dele herda-se Redidential e Working Building. A partir de Working Building herda-se Commercial e Industrial." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/building-model-1.svg" alt="Diagrama mostrando as relações dos construtores de construções. Ao topo temos o Building; a partir dele herda-se Redidential e Working Building. A partir de Working Building herda-se Commercial e Industrial." width="255" height="110"></noscript></amp-img><figcaption><p>Diagrama que representa nosso modelo de construtores de objetos construções do jogo.</p></figcaption></figure><p>Utilizando os conceitos e os modelos vistos anteriormente, vamos primeiramente desenvolver nosso construtor de objetos que representa construções:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Building</span>(<span class="params">value, water, power</span>) </span>{
  <span class="keyword">this</span>.value = value
  <span class="keyword">this</span>.water = water
  <span class="keyword">this</span>.power = power
  <span class="keyword">this</span>.getValue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>.value
  }
  <span class="keyword">this</span>.getPowerConsumption = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>.power
  }
  <span class="keyword">this</span>.getWaterConsumption = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> <span class="keyword">this</span>.water
  }
}
</code></pre><p>Com o construtor <code>Building</code> concluído, podemos agora fazer nosso construtor de residências.</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Residential</span> (<span class="params">value, water, power, size</span>) </span>{
  Building.apply(<span class="keyword">this</span>, [value, water, power])
  <span class="keyword">this</span>.size = size
  <span class="keyword">this</span>.residents = []
  <span class="keyword">this</span>.addResident = <span class="function"><span class="keyword">function</span> (<span class="params">person</span>) </span>{
    <span class="keyword">if</span> (<span class="keyword">this</span>.residents.length &lt;= <span class="keyword">this</span>.size) {
      <span class="keyword">this</span>.residents.push(person)
    }
  }
}
</code></pre><p>Agora já podemos construir objetos do tipo residências e colocar objetos pessoas para morar nelas. Veja no exemplo a seguir.</p><pre class="hljs"><code><span class="keyword">const</span> chale = <span class="keyword">new</span> Residential(<span class="number">4095</span>, <span class="number">22</span>, <span class="number">120</span>, <span class="number">3</span>)
<span class="keyword">const</span> sobrado = <span class="keyword">new</span> Residential(<span class="number">6144</span>, <span class="number">25</span>, <span class="number">150</span>, <span class="number">4</span>)
chale.addResident(pedremildo)
sobrado.addResident(testerson)

<span class="built_in">console</span>.log(chale.getPowerConsumption())  <span class="comment">// → 120</span>
<span class="built_in">console</span>.log(sobrado.residents[<span class="number">0</span>])         <span class="comment">// → {Testerson}</span>
</code></pre><p>Vamos agora ao desenvolvimento das construções de trabalho: comerciais e industriais. Como ambos os tipos de construções possuem a habilidade de “empregar” pessoas, vamos criar um construtor que abstraia esse comportamento e herdar essas características em outros construtores.</p><p>Veja no exemplo a seguir.</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">WorkingBuilding</span> (<span class="params">name, value, water, power, jobs</span>) </span>{
  Building.apply(<span class="keyword">this</span>, [value, water, power])
  <span class="keyword">this</span>.name = name
  <span class="keyword">this</span>.jobs = jobs
  <span class="keyword">this</span>.employees = []
  <span class="keyword">this</span>.addEmployee = <span class="function"><span class="keyword">function</span> (<span class="params">person</span>) </span>{
    <span class="keyword">if</span> (<span class="keyword">this</span>.employees.length &lt; <span class="keyword">this</span>.jobs) {
      <span class="keyword">this</span>.employees.push(person)
    }
  }
}
</code></pre><p>Agora vamos aos construtores de objetos que representam uma construção comercial e uma construção industrial.</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Commercial</span> (<span class="params">name, value, water, power, jobs</span>) </span>{
  WorkingBuilding.apply(<span class="keyword">this</span>, [name, value, water, power, jobs])
}

<span class="function"><span class="keyword">function</span> <span class="title">Industrial</span>(<span class="params">name, value, water, power, jobs, pollution</span>) </span>{
  WorkingBuilding.apply(<span class="keyword">this</span>, [name, value, water, power, jobs])
  <span class="keyword">this</span>.pollution = pollution
}
</code></pre><p>Com nossos construtores feitos, podemos agora criar os estabelecimentos comerciais e industriais, como também adicionar os empregados ligados a eles.</p><pre class="hljs"><code><span class="keyword">const</span> com = <span class="keyword">new</span> Commercial(<span class="string">'Lojas Compras &amp; Compras'</span>, <span class="number">10240</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">15</span>)
com.addEmployee(pedremildo)

<span class="keyword">const</span> ind = <span class="keyword">new</span> Industrial(<span class="string">'AutoParts Central'</span>, <span class="number">18432</span>, <span class="number">89</span>, <span class="number">450</span>, <span class="number">30</span>, <span class="number">1.2</span>)
ind.addEmployee(testerson)

<span class="built_in">console</span>.log(ind.employees)  <span class="comment">// → [ {Testerson} ]</span>
<span class="built_in">console</span>.log(com.name)       <span class="comment">// → Lojas Compras &amp; Compras</span>
</code></pre><h3 id="herança-múltipla"><a class="header-anchor" href="#herança-múltipla">#</a>Herança Múltipla</h3><p>A herança múltipla é possível em JavaScript quando utilizamos Construtores Simples. Nada impede que haja dois construtores diferentes sendo invocados com <code>apply</code> dentro de outro construto,r porém algumas considerações precisam ser levadas em conta.</p><p>Para exemplificar, vamos supor que agora criamos um construtor que represente construções que possuem várias residências ou quartos, tais como condomínios, apartamentos ou hotéis. Assim, poderemos criar condomínios residências com o construtor <code>Residential</code> já criado anteriormente. Nosso modelo então ficará como mostrado na figura a seguir.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/building-model-2.svg" alt="Diagrama mostrando as relações dos construtores de construções. Ao topo temos o Building e Complex; a partir dele herda-se Redidential e Working Building. A partir de Working Building herda-se Commercial e Industrial. A partir de Redidential e Complex herda-se Condominium." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/building-model-2.svg" alt="Diagrama mostrando as relações dos construtores de construções. Ao topo temos o Building e Complex; a partir dele herda-se Redidential e Working Building. A partir de Working Building herda-se Commercial e Industrial. A partir de Redidential e Complex herda-se Condominium." width="255" height="110"></noscript></amp-img><figcaption><p>Diagrama que representa nosso modelo de construtores de objetos construções do jogo, agora com herança múltipla.</p></figcaption></figure><p>Primeiramente, desenvolvemos o construtor <code>Complex</code>, como vemos em seguida:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Complex</span> (<span class="params">spaces</span>) </span>{
  <span class="keyword">this</span>.spaces = <span class="keyword">new</span> <span class="built_in">Array</span>(spaces)
  <span class="keyword">this</span>.occupy = <span class="function"><span class="keyword">function</span> (<span class="params">spaceNumber, person</span>) </span>{
    <span class="keyword">if</span> (spaceNumber &lt; <span class="keyword">this</span>.spaces.length) {
      <span class="keyword">this</span>.spaces[spaceNumber] = <span class="keyword">this</span>.spaces[spaceNumber] || []
      <span class="keyword">this</span>.spaces[spaceNumber].push(person)
    }
  }
}
</code></pre><p>Agora, vamos fazer um construtor de condomínio residencial que herde as características dos construtores <code>Residential</code> e <code>Complex</code>.</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Condominium</span> (<span class="params">value, water, power, size, spaces</span>) </span>{
  Residential.apply(<span class="keyword">this</span>, [value, water, power, size])
  Complex.apply(<span class="keyword">this</span>, [ spaces ])
}
</code></pre><p>Agora podemos criar nossos objetos de condomínios residenciais utilizando o <code>Condominium</code>. Veja a seguir:</p><pre class="hljs"><code><span class="keyword">const</span> condo = <span class="keyword">new</span> Condominium(<span class="number">20480</span>, <span class="number">130</span>, <span class="number">189</span>, <span class="number">3</span>, <span class="number">16</span>)
condo.addResident(pedremildo)
condo.addResident(testerson)

condo.occupy(<span class="number">3</span>, pedremildo)
condo.occupy(<span class="number">3</span>, testerson)

<span class="built_in">console</span>.log(condo.residents)    <span class="comment">// → [ {Pedremildo}, {Testerson} ]</span>
<span class="built_in">console</span>.log(condo.spaces[<span class="number">3</span>])    <span class="comment">// → [ {Pedremildo}, {Testerson} ]</span>
</code></pre><p>Veja que, por exemplo, você também poderia utilizar o construtor <code>Complex</code> juntamente com o construtor <code>Commercial</code> para a construção de objetos que representem hotéis e pousadas. Sinta-se livre para testar.</p><p>No entanto, antes de usar indiscriminadamente a herança múltipla em JavaScript, é importante ponderar sobre os seguintes pontos:</p><ul><li>O JavaScript não sofre do <strong><a href="https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem" target="_blank" rel="external">Problema do Diamante</a></strong>. Se diferentes construtores possuírem conflitos, ou seja, atributos ou métodos possuírem o mesmo nome, somente permanecerá a propriedade do último construtor aplicado. Esse comportamento pode levar a estados difíceis de serem previstos e a bugs difíceis de serem encontrados.</li><li>Se diferentes construtores possuírem um mesmo construtor pai, esse construtor pai será chamado duas vezes — o que é considerado um problema de desempenho e de má utilização da memória.</li></ul><hr><h2 id="encapsulamento"><a class="header-anchor" href="#encapsulamento">#</a>Encapsulamento</h2><p>Como já visto, objetos do JavaScript possuem todos os seus atributos públicos, ou seja, o estado do objeto pode ser alterado pelo mundo externo sem qualquer controle do próprio objeto. Para garantir o encapsulamento dos dados de um objeto utilizamos o nosso querido <em>closure</em> das funções.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/encapsulation.svg" alt="Representação ilustrativa do encapsulamento como um objeto trancado com um cadeado." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/encapsulation.svg" alt="Representação ilustrativa do encapsulamento como um objeto trancado com um cadeado." width="255" height="110"></noscript></amp-img><figcaption><p>Objetos encapsulados são opacos ao mundo exterior e não podem ter suas propriedades modificadas se não por meio da interface do objeto.</p></figcaption></figure><p>Para lembrarmos rapidamente: quando variáveis de um escopo são utilizadas por funções mais internas, essas variáveis são alocadas em uma área específica da memória chamada <em>closure</em>. Todas as funções que foram criadas nesse escopo são ligadas a esse <em>closure</em> e por isso podem acessar as variáveis mesmo que o escopo tenha deixado de existir no momento que essas funções são executadas. Quando as variáveis estão alocadas em um <em>closure</em>, não há forma de acessá-las exceto pelas próprias funções que estão ligadas nesse <em>closure</em>. É utilizando esse conceito que adaptamos nossos construtores para conseguirmos o encapsulamento de dados. Caso você queira entender mais profundamente o conceito de <em>closure</em>, recomendo dar uma olhada nesse <a href="http://maxroecker.github.io/blog/javascript-intermediario-4/">texto já publicado no blog</a>.</p><p>Para exemplificar, vamos rever nossos construtores dos exemplos anteriores. Veja por exemplo nosso construtor <code>Residential</code> que possui o atributo <code>residents</code> público. Um programador pode quebrar a regra de negócio do modelo em atribuir mais população à residência do que o permitido pelo atributo <code>size</code> dela. Para isso, podemos encapsular a propriedade <code>residents</code> na <em>closure</em> do construtor e fornecer um método para retornar uma cópia dela. Veja:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Residential</span> (<span class="params">value, water, power, size</span>) </span>{
  <span class="keyword">const</span> residents = []
  Building.apply(<span class="keyword">this</span>, [value, water, power])
  <span class="keyword">this</span>.size = size
  <span class="keyword">this</span>.addResident = <span class="function"><span class="keyword">function</span> (<span class="params">person</span>) </span>{
    <span class="keyword">if</span> (residents.length &lt;= <span class="keyword">this</span>.size) {
      residents.push(person)
    }
  }
  <span class="keyword">this</span>.getResidents = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">return</span> residents.slice()
  }
}
</code></pre><p>Agora, só conseguimos acessar o valor de <code>residents</code> através do método <code>getResidents</code>. Veja a seguir um exemplo:</p><pre class="hljs"><code><span class="keyword">const</span> sobrado = <span class="keyword">new</span> Residential(<span class="number">6144</span>, <span class="number">25</span>, <span class="number">150</span>, <span class="number">4</span>)
sobrado.addResident(pedremildo)
sobrado.addResident(testerson)

<span class="built_in">console</span>.log(sobrado.getResidents())  <span class="comment">// → [ {Testerson}, {Pedremildo} ]</span>
<span class="built_in">console</span>.log(sobrado.residents)       <span class="comment">// → undefined</span>

</code></pre><p>Note que mesmo que atribuíssemos uma propriedade ao objeto — <a href="http://maxroecker.github.io/blog/javascript-basico-5/#verificando-a-exist%C3%AAncia-de-uma-propriedade">uma vez que os objetos em JavaScript suportam adição dinâmica de propriedades</a> — nossos métodos iriam ficar protegidos porque não estão referenciando a propriedade através do <code>this</code>, mas sim a variável que está alocada no <em>closure</em>. Veja no código a seguir:</p><pre class="hljs"><code><span class="built_in">console</span>.log(sobrado.residents)       <span class="comment">// → undefined</span>
sobrado.residents = []
<span class="built_in">console</span>.log(sobrado.getResidents())  <span class="comment">// → [ {Testerson}, {Pedremildo} ]</span>
</code></pre><p>Em JavaScript não há o conceito de atributos protegidos — como em Java quando são anotados com <code>protected</code> — e por isso , caso tenhamos herança, atributos privados dos pais também não podem ser acessados por filhos. Lembre-se, os atributos privados de um objeto pertencem somente ao objeto e é ele quem dita como o acesso a esse atributo deve ocorrer.</p><hr><h2 id="polimorfismo"><a class="header-anchor" href="#polimorfismo">#</a>Polimorfismo</h2><p>Em JavaScript o polimorfismo pode ser realizado sem muitos problemas, uma vez que funções são objetos, objetos são mutáveis e variáveis não possuem tipos definidos. Não há um contrato pré-definido entre as variáveis — como é o caso das interfaces em Java — e por isso fica a cargo do codificador utilizar a mesma interface nos objetos em que deve-se estabelecer um polimorfismo.</p><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/polymorphism.svg" alt="Representação ilustrativa do polimorfismo como uma situação onde um objeto ordene os objetos a falarem e todos respondem a sua maneira." width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/polymorphism.svg" alt="Representação ilustrativa do polimorfismo como uma situação onde um objeto ordene os objetos a falarem e todos respondem a sua maneira." width="255" height="110"></noscript></amp-img><figcaption><p>O polimorfismo permite que diferentes objetos que implementem uma mesma interface possam ser tratados de forma indistinguível.</p></figcaption></figure><p>Vamos exemplificar modificando nossos construtores <code>Commercial</code> e <code>Industrial</code> para que possuam o método <code>getPowerConsumption</code> que se adeque a realidade de cada um. Em nosso modelo, um edifício comercial possui um consumo que representa 20% de sua capacidade total e o restante (80%) é calculado com base no número de empregados que edifício emprega Dessa forma, nosso construtor <code>Commercial</code> poderia ter o seguinte código:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Commercial</span> (<span class="params">name, value, water, power, jobs</span>) </span>{
  WorkingBuilding.apply(<span class="keyword">this</span>, [name, value, water, power, jobs])
  <span class="keyword">this</span>.getPowerConsumption = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">const</span> fixedPower = <span class="keyword">this</span>.power * <span class="number">0.2</span>
    <span class="keyword">const</span> variablePower = <span class="keyword">this</span>.power * <span class="number">0.8</span>
    <span class="keyword">const</span> powerPerEmployee = variablePower / <span class="keyword">this</span>.jobs
    <span class="keyword">const</span> actualPower = powerPerEmployee * <span class="keyword">this</span>.employees.length
    <span class="keyword">return</span> fixedPower + actualPower
  }
}
</code></pre><p>Já nossos edifícios industriais possuem um consumo fixo de 30% de sua capacidade total. O restante (70%) depende exclusivamente do índice de poluição que a construção emite. Só então é calculado o índice de consumo para cada empregado que a construção possui. Logo, o construtor pode ser parecido com o código a seguir:</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Industrial</span> (<span class="params">name, value, water, power, jobs, pollution</span>) </span>{
  WorkingBuilding.apply(<span class="keyword">this</span>, [name, value, water, power, jobs])
  <span class="keyword">this</span>.pollution = pollution
  <span class="keyword">this</span>.getPowerConsumption = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    <span class="keyword">const</span> fixedPower = <span class="keyword">this</span>.power * <span class="number">0.3</span>
    <span class="keyword">const</span> variablePower = <span class="keyword">this</span>.power * <span class="number">0.7</span>
    <span class="keyword">const</span> pollutionTreatmentPower = variablePower * <span class="keyword">this</span>.pollution
    <span class="keyword">const</span> powerPerEmployee = (variablePower - pollutionTreatmentPower) / <span class="keyword">this</span>.jobs
    <span class="keyword">const</span> actualConsumption = powerPerEmployee * <span class="keyword">this</span>.employees.length
    <span class="keyword">return</span> fixedPower + pollutionTreatmentPower + actualConsumption
  }
}
</code></pre><p>Para que polimorfismo seja feito, a entrada e saída da função deve ser o mesmo. Nesse exemplo, o nosso método não possui entrada e possui uma saída numérica. Como a interface é a mesma, podemos agora atribuir esses objetos em uma lista e chamar seus métodos independentemente de como sejam implementados em seu interior. Veja a seguir:</p><p>Criando as instâncias e executando a função <code>getPowerConsumption</code>, temos o resultado esperado. Não é necessário se preocupar com o que o objeto é nem como ele implementa o método. É somente preciso garantir que o método seja implementado com a interface definida:</p><pre class="hljs"><code><span class="keyword">const</span> com = <span class="keyword">new</span> Commercial(<span class="string">'Lojas Compras &amp; Compras'</span>, <span class="number">10240</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">15</span>)
com.addEmployee(pedremildo)

<span class="keyword">const</span> ind = <span class="keyword">new</span> Industrial(<span class="string">'AutoParts Central'</span>, <span class="number">18432</span>, <span class="number">89</span>, <span class="number">450</span>, <span class="number">30</span>, <span class="number">0.2</span>)
ind.addEmployee(testerson)

<span class="keyword">const</span> workingBuildings = [com, ind]

<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; workingBuildings.length; i++) {
  <span class="keyword">var</span> build = workingBuildings[i]
  <span class="built_in">console</span>.log(
    <span class="string">'Construção: %s \n— Consumo: %d / %d'</span>,
    build.name,
    build.getPowerConsumption(),
    build.power
  )
}

</code></pre><p>Um problema que podemos ver é que se o programador esquecer de implementar o método em um dos construtores, teremos então um erro ao executarmos uma função que não existe no objeto.</p><hr><h2 id="outras-características"><a class="header-anchor" href="#outras-características">#</a>Outras características</h2><h3 id="propriedades-estáticas"><a class="header-anchor" href="#propriedades-estáticas">#</a>Propriedades estáticas</h3><p>Propriedades estáticas são atributos/métodos que pertencem ao construtor e não a cada um dos objetos construídos por ele. Propriedades estáticas dos construtores podem ser criadas atribuindo propriedades aos próprios construtores. Propriedades estáticas também são sempre públicas, por isso, é preciso tomar cuidado com sua utilização.</p><p>Vamos exemplificar a utilização de propriedades estáticas no construtor Building para armazenar a quantidade de objetos já criados por ele ou seus “filhos”.</p><pre class="hljs"><code><span class="function"><span class="keyword">function</span> <span class="title">Building</span> (<span class="params">value, water, power</span>) </span>{
  Building.count += <span class="number">1</span>
  <span class="keyword">this</span>.value = value
  <span class="keyword">this</span>.water = water
  <span class="keyword">this</span>.power = power
  <span class="comment">// …</span>
}

Building.count = <span class="number">0</span>
</code></pre><p>Agora, vamos instanciar algumas variáveis e verificar o resultado.</p><pre class="hljs"><code><span class="keyword">const</span> sobrado = <span class="keyword">new</span> Residential(<span class="number">6144</span>, <span class="number">25</span>, <span class="number">150</span>, <span class="number">4</span>)
<span class="keyword">const</span> com = <span class="keyword">new</span> Commercial(<span class="string">'Lojas Compras &amp; Compras'</span>, <span class="number">10240</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">15</span>)
<span class="keyword">const</span> ind = <span class="keyword">new</span> Industrial(<span class="string">'AutoParts Central'</span>, <span class="number">18432</span>, <span class="number">89</span>, <span class="number">450</span>, <span class="number">30</span>, <span class="number">0.2</span>)

<span class="built_in">console</span>.log(Building.count) <span class="comment">// → 3</span>
</code></pre><h3 id="verificar-se-um-objeto-é-instância-de-um-construtor"><a class="header-anchor" href="#verificar-se-um-objeto-é-instância-de-um-construtor">#</a>Verificar se um objeto é instância de um construtor</h3><p>Com construtores simples, há a possibilidade de utilização do operador <code>instanceof</code>, que testa se um objeto possui em seu protótipo o passado à direita. Veja por exemplo no código a seguir:</p><pre class="hljs"><code><span class="keyword">const</span> com = <span class="keyword">new</span> Commercial(<span class="string">'Lojas Compras &amp; Compras'</span>, <span class="number">10240</span>, <span class="number">55</span>, <span class="number">320</span>, <span class="number">15</span>)

<span class="built_in">console</span>.log(com <span class="keyword">instanceof</span> Commercial) <span class="comment">// → true</span>
<span class="built_in">console</span>.log(com <span class="keyword">instanceof</span> Industrial) <span class="comment">// → false</span>
<span class="built_in">console</span>.log(com <span class="keyword">instanceof</span> Building)   <span class="comment">// → false</span>
</code></pre><p>Porém, como você não faz herança com a utilização de protótipos, apesar de um objeto construído por <code>Commercial</code> também é construído por um <code>Building</code>, mas o operador <code>instanceOf</code> não consegue definir que objeto é instância de <code>Building</code>.</p><hr><h2 id="resumo"><a class="header-anchor" href="#resumo">#</a>Resumo</h2><figure><amp-img src="/blog/javascript-orientado-a-objetos-2/scale.svg" alt="Ilustração de uma balança" width="255" height="110" layout="responsive"><noscript><img src="/blog/javascript-orientado-a-objetos-2/scale.svg" alt="Ilustração de uma balança" width="255" height="110"></noscript></amp-img></figure><p>O Padrão Construtor Simples possui várias vantagens, tais como:</p><ul><li>Herança feita de modo fácil, uma vez que basta aplicar os construtores os quais se quer herdar as propriedades;<br>Possibilidade de utilização de Herança múltipla;</li><li>Encapsulamento fácil, uma vez que utilizar o <em>closure</em> da função construtora permite a criação de escopos privados;</li><li>Polimorfismo simples, sendo possível utilizar a herança múltipla uma vez que desejamos garantir que os objetos tenham determinado método/atributo;</li><li>Solução simples e enxuta para a programação orientada a objetos.</li></ul><p>Porém, alguns pontos devem ser considerados quando trabalhos com Construtores Simples:</p><ul><li>Todos os objetos construídos por construtores possuem cópias de funções idênticas, mas que ocupam espaço distintos na memória, o que pode levar a um problema de desempenho quando muitos objetos são criados ao mesmo tempo;</li><li>Herança sempre copia todqas as propriedades — atributos e funções — e as aplica no contexto do construtor herdeiro. A herança também é toda agrupada na chamada ao construtor pai, o que pode trazer inflexibilidade para a arquitetura do seu software;</li><li>A determinação de tipos é limitada somente ao construtor primário, não sendo possível determinar se um objeto herdou de outro(s) construtor(es) algumas propriedades com a utilização do <code>instanceOf</code>.</li></ul><hr><h2 id="conclusões"><a class="header-anchor" href="#conclusões">#</a>Conclusões</h2><p>Hoje compreendemos sobre Construtores Simples, um padrão muito utilizado no lado cliente de aplicações web, pois oferece as principais características da programação orientada a objetos — uma vez que no <em>front-end</em> o número de instanciação de objetos não costuma ser grande e por isso o problema de desempenho não provoca grandes estragos. Porém, se o número de objetos começa a crescer, esse padrão pode se tornar proibitivo.</p><p>Por hoje é só, pessoal. No próximo post da série vamos compreender os Construtores com Protótipos, uma solução encontrada para minimizar os efeitos de desempenho que os Construtores Simples possuem.</p><p>Até a próxima!</p><hr></div></div></section><footer><div class="container"><section class="social"><p><amp-social-share type="twitter"></amp-social-share><amp-social-share type="facebook" data-param-app_id="1504341679629268"></amp-social-share><amp-social-share type="linkedin"></amp-social-share></p><p>Imagem: <a class="social-a" rel="nofollow" href="https://www.flickr.com/photos/fdecomite/3275300224/in/album-72157613498998540/">Polyhedron models</a></p></section></div></footer></article></main><footer id="footer"><section class="container height--100 padding--2rem"><div class="row center-xs top-xs height--100"><div class="col-xs-3 col-sm-3 col-md-2 col-lg-1"><amp-img class="bio__photo" src="/me.jpg" width="96" height="96"><noscript><img src="/me.jpg" width="264" height="96"></noscript></amp-img></div><div class="col-xs-12 col-sm-12 col-md-5 col-lg-6"><h2 class="bio__header">Olá!</h2><div class="bio__intro"><p>Meu nome é Max Naegeler Roecker. Sou Bacharel em Ciência da Computação, Técnico em Informática e mestrando em Ciência da Computação. Fascinado por computadores desde o primeira vista.</p></div></div><div class="col-xs-12 col-sm-12 col-md-5 col-lg-5"><h2 class="bio__header">Entre em contato</h2><div class="bio__intro"><p>Além desse site, você pode me encontrar no <a href="https://twitter.com/maxrkr">Twitter</a> ou no <a href="https://www.linkedin.com/in/maxroecker">Linkedin</a>. Sinta-se à vontade para <a href="mailto:max.roecker@gmail.com">enviar-me um email</a> também.</p></div></div></div></section><section class="disclaimer"><div class="container"><p>Exceto esteja explicíto, todo o conteúdo desse site está licenciado sob <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0</a> e os códigos estão sob <a href="http://unlicense.org/">Domínio Publico</a>.</p></div><div class="container">Feito com ❤️ e provido por <a href="https://hexo.io/" rel="nofollow">Hexo</a></div></section></footer></body><amp-analytics type="googleanalytics" id="analytics"><script type="application/json">{
    "vars": {
      "account": "UA-75618595-1"
    },
    "triggers": {
      "trackPageview": {
        "on": "visible",
        "request": "pageview"
      }
    }
  }</script></amp-analytics></html>